---
title: Expressions
author: Thiago de Paula Oliveira
date: '2020-07-12'
slug: expressions
categories:
  - C++
  - Computer Programs
tags:
  - C++
  - Computer Science
  - Computer Programs
subtitle: ''
summary: ''
authors: []
lastmod: "2020-07-14"
featured: no
image:
  caption: ''
  focal_point: ''
  preview_only: no
projects: []
output:
  blogdown::html_page:
    toc: true
    css: "my_style.css"
---

  <link rel="stylesheet" href="my_style.css" type="text/css" />

<div id="TOC">
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#using-parentheses">Using Parentheses <code>()</code></a></li>
<li><a href="#modulus-operator">Modulus operator (%)</a><ul>
<li><a href="#example">Example:</a></li>
</ul></li>
<li><a href="#short-hand-or-syntatic-sugar">Short hand or syntatic sugar</a><ul>
<li><a href="#example-1">Example 1:</a></li>
<li><a href="#example-2">Example 2:</a></li>
</ul></li>
<li><a href="#operator-precedence-and-associativity">Operator precedence and associativity</a></li>
<li><a href="#references">References</a></li>
</ul>
</div>

<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>Expressions are combinations of operators, values (constants), and variables which are arranged according to the rules established througout the code. Thus, every expression is any part of a statement that returns a value, as in the follow example:</p>
<p><img src="exp1.png" width="312" /></p>
<p>This statement creates a box to store the value of <span class="math inline">\(x\)</span> and another to store the value of <span class="math inline">\(y\)</span>, which is equal to the expression <span class="math inline">\(x\)</span> plus 13 (<span class="math inline">\(y=23\)</span>). Now consider a more complex statement:</p>
<p><img src="exp2.png" width="474" /></p>
This statment consists of three expressions:
<div class="div-1">
<ul>
<li>The results of the expression <span class="math inline">\(3 - x\)</span> is stored in the variable <span class="math inline">\(y\)</span></li>
<li>The expression <span class="math inline">\(y = 3 - x\)</span> returns the value of <span class="math inline">\(y\)</span>, and it is stored in the variable <span class="math inline">\(v\)</span></li>
<li>The results of the expression <span class="math inline">\(y \times \left(\frac{v}{5} + x\right)\)</span> is stored in the variable <span class="math inline">\(z\)</span></li>
</ul>
</div>
<p>Remember that multiplication and division occur before addition and subtraction. Ex.:</p>
<pre><code>1-3*4 = -11
2/3-4*2/3 = -2
2/3-4/4*2/3 = 0</code></pre>
<p>The <strong>operator precedente</strong> dictates the order of evaluation of operators in an expression. In C, each operator has a fixed priority order to be executed or precedence in relation to other operators. As multiplication or division has higher precedence than addition and subtraction, in the expression <span class="math inline">\(\frac{2}{4}-3+ 4 \times 6\)</span>, firstly the subexpressions <span class="math inline">\(\frac{2}{4}\)</span> and <span class="math inline">\(4 \times 6\)</span> will be evaluated (Step 1 in the Figure 1), and then addition and subtraction (Step 2 in the Figure 1). Note that multiplication and division, or addition and subtraction have same precedente, then tey are evaluated from left to right due to its associativity.</p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-3"></span>
<img src="exp3.png" alt="Precedence order" width="358" />
<p class="caption">
Figure 1: Precedence order
</p>
</div>
<p><strong>Associativity</strong> defines the order in which operators of the same precedence are evaluated in an expression, and it can be either from left to right or right to left (Figure 2). Generally, addition, subtraction, multiplication, and division operators are usually left-associative while assignment operators are typically right-associative. Besides, there are operators that have no defined behavior when used in sequence over an expression, and they are called as non-associative (Figure 2). Note that when we include parentheses, we can force an expression to be right-associative rather than left-associative as usual.</p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-4"></span>
<img src="exp4.png" alt="Example of left-associative, right-associative, and non-associative" width="655" />
<p class="caption">
Figure 2: Example of left-associative, right-associative, and non-associative
</p>
</div>
</div>
<div id="using-parentheses" class="section level1">
<h1>Using Parentheses <code>()</code></h1>
<p>The operator <code>()</code> has the highest precedente order (see <a href="#table1">Table 1</a>), as consequence, we can use parentheses to change the sequence of operators.
Consider the following example:</p>
<pre><code>5 + 6 * 7</code></pre>
<p>The <code>*</code> operator is evaluated firstly followed by the <code>+</code> operator, so the result is <span class="math inline">\(5+6\times 7 = 47\)</span>. However, if we want to account for the addiction first and then the multiplication, we can rewrite the code as:</p>
<pre><code>(5 + 6) * 7</code></pre>
<p>Then, the program will compute <span class="math inline">\(\left(5+6\right)\times 7=11\times 7=77\)</span>. Sometimes, the inclusion of parentheses should be important to makes your code easier to understand, and therefore easier to maintain.</p>
</div>
<div id="modulus-operator" class="section level1">
<h1>Modulus operator (%)</h1>
Modulus operator evaluates to the remainder when dividing the first operand by the second one. Ex.: <code>a % b</code> is the remainder when <span class="math inline">\(a\)</span> is divided
<table class="wikitable">
by <span class="math inline">\(b\)</span> (<span class="math inline">\(a\)</span> modulus <span class="math inline">\(b\)</span>).
<table class="wikitable">
<p>by <span class="math inline">\(b\)</span> (<span class="math inline">\(a\)</span> modulus <span class="math inline">\(b\)</span>).</p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-5"></span>
<img src="exp5.png" alt="Example of modulus" width="268" />
<p class="caption">
Figure 3: Example of modulus
</p>
</div>
<div class="div-1">
<ul>
<li>Dividing an integer by another one gives an integer.</li>
</ul>
</div>
<div id="example" class="section level2">
<h2>Example:</h2>
<pre><code>int x = 10;
int y = 3;

x/y = 10/3 = 3 (dividing two integers)

x % y = 1 (modulus)</code></pre>
</div>
</div>
<div id="short-hand-or-syntatic-sugar" class="section level1">
<h1>Short hand or syntatic sugar</h1>
<p>Short hand expressions provide a short way to write common patterns over the algorithm for initialized variables.</p>
<table>
<thead>
<tr class="header">
<th>Short hand</th>
<th>Meaning</th>
<th>Prefix and Postfix</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(x+=y\)</span></td>
<td><span class="math inline">\(x=x+y\)</span></td>
<td></td>
</tr>
<tr class="even">
<td><span class="math inline">\(x-=y\)</span></td>
<td><span class="math inline">\(x=x-y\)</span></td>
<td></td>
</tr>
<tr class="odd">
<td><span class="math inline">\(x*=y\)</span></td>
<td><span class="math inline">\(x= x \times y\)</span></td>
<td></td>
</tr>
<tr class="even">
<td><span class="math inline">\(x/=y\)</span></td>
<td><span class="math inline">\(x=x/y\)</span></td>
<td></td>
</tr>
<tr class="odd">
<td><span class="math inline">\(x++\)</span></td>
<td><span class="math inline">\(x=x+1\)</span></td>
<td>Return the value of <span class="math inline">\(x\)</span> first then increment it</td>
</tr>
<tr class="even">
<td><span class="math inline">\(++x\)</span></td>
<td><span class="math inline">\(x=x+1\)</span></td>
<td>Increment first then return the value of <span class="math inline">\(x\)</span></td>
</tr>
<tr class="odd">
<td><span class="math inline">\(x--\)</span></td>
<td><span class="math inline">\(x=x-1\)</span></td>
<td>Return the value of <span class="math inline">\(x\)</span> first then increment it</td>
</tr>
<tr class="even">
<td><span class="math inline">\(--x\)</span></td>
<td><span class="math inline">\(x=x-1\)</span></td>
<td>Increment first then return the value of <span class="math inline">\(x\)</span></td>
</tr>
</tbody>
</table>
<div id="example-1" class="section level2">
<h2>Example 1:</h2>
<p>Here you can see that <code>y ++= x * z;</code> is calculate as <span class="math inline">\(y=y+x \times z = 30 + 2 \times 4 = 34\)</span>.</p>
<p><img src="example1.png" width="401" style="display: block; margin: auto;" /></p>
</div>
<div id="example-2" class="section level2">
<h2>Example 2:</h2>
<p>In this example you can see that we used the postfix <code>x++</code> to first initialize <span class="math inline">\(y\)</span> (<span class="math inline">\(y=8 \times x = 8 \times 7 = 56\)</span>) and then update <span class="math inline">\(x\)</span> to <code>x=x+1=8</code>. On the other hand, we used the prefix <code>--y</code> to first update the variable <span class="math inline">\(y\)</span> to <code>y=y-1=55</code> and then calculate the variable z using the updated <span class="math inline">\(y\)</span> <span class="math inline">\(\left(z = y/5 = 55/5 = 11 \right)\)</span>.</p>
<p><img src="example2.png" width="572" style="display: block; margin: auto;" /></p>
<p>Note that when we use <code>x*= (y/z) % 2</code> the variable <span class="math inline">\(x\)</span> multiply the entire expression after <code>=</code> symbol. This expression is equivalent to <code>x = x * ((y/z) % 2));</code>.</p>
</div>
</div>
<div id="operator-precedence-and-associativity" class="section level1">
<h1>Operator precedence and associativity</h1>
<p><a href="#table1">Table 1</a> shows a list of precedence (ordered) and associativity of C operators. This table was obtained from
<a href="https://en.cppreference.com/w/c/language/operator_precedence#cite_note-1">cppreference.com</a>.</p>
<div>
<table class="wikitable">
<tbody>
<tr>
<a name="table1"> Table 1: Precedence and associativity of C operators </a>
<th style="text-align: left">
Precedence
</th>
<th style="text-align: left">
Operator
</th>
<th style="text-align: left">
Description
</th>
<th style="text-align: left">
Associativity
</th>
</tr>
<tr>
<th rowspan="6">
1
</th>
<td style="border-bottom-style: none">
<code>++</code> <code>--</code>
</td>
<td style="border-bottom-style: none">
Suffix/postfix increment and decrement
</td>
<td style="vertical-align: top" rowspan="6">
Left-to-right
</td>
</tr>
<tr>
<td style="border-bottom-style: none; border-top-style: none">
<code>()</code>
</td>
<td style="border-bottom-style: none; border-top-style: none">
Function call
</td>
</tr>
<tr>
<td style="border-bottom-style: none; border-top-style: none">
<code>[]</code>
</td>
<td style="border-bottom-style: none; border-top-style: none">
Array subscripting
</td>
</tr>
<tr>
<td style="border-bottom-style: none; border-top-style: none">
<code>.</code>
</td>
<td style="border-bottom-style: none; border-top-style: none">
Structure and union member access
</td>
</tr>
<tr>
<td style="border-bottom-style: none; border-top-style: none">
<code>-&gt;</code>
</td>
<td style="border-bottom-style: none; border-top-style: none">
Structure and union member access through pointer
</td>
</tr>
<tr>
<td style="border-bottom-style: none; border-top-style: none">
<code>(<i>type</i>){<i>list</i>}</code>
</td>
<td style="border-bottom-style: none; border-top-style: none">
Compound literal<span class="t-mark-rev t-since-c99">(C99)</span>
</td>
</tr>
<tr>
<th rowspan="8">
2
</th>
<td style="border-bottom-style: none">
<code>++</code> <code>--</code>
</td>
<td style="border-bottom-style: none">
Prefix increment and decrement<sup id="cite_ref-1" class="reference"><a href="#cite_note-1">[note 1]</a></sup>
</td>
<td style="vertical-align: top" rowspan="8">
Right-to-left
</td>
</tr>
<tr>
<td style="border-bottom-style: none; border-top-style: none">
<code>+</code> <code>-</code>
</td>
<td style="border-bottom-style: none; border-top-style: none">
Unary plus and minus
</td>
</tr>
<tr>
<td style="border-bottom-style: none; border-top-style: none">
<code>!</code> <code>~</code>
</td>
<td style="border-bottom-style: none; border-top-style: none">
Logical NOT and bitwise NOT
</td>
</tr>
<tr>
<td style="border-bottom-style: none; border-top-style: none">
<code>(<i>type</i>)</code>
</td>
<td style="border-bottom-style: none; border-top-style: none">
Cast
</td>
</tr>
<tr>
<td style="border-bottom-style: none; border-top-style: none">
<code>*</code>
</td>
<td style="border-bottom-style: none; border-top-style: none">
Indirection (dereference)
</td>
</tr>
<tr>
<td style="border-bottom-style: none; border-top-style: none">
<code>&amp;</code>
</td>
<td style="border-bottom-style: none; border-top-style: none">
Address-of
</td>
</tr>
<tr>
<td style="border-bottom-style: none; border-top-style: none">
<code>sizeof</code>
</td>
<td style="border-bottom-style: none; border-top-style: none">
Size-of<sup id="cite_ref-2" class="reference"><a href="#cite_note-2">[note 2]</a></sup>
</td>
</tr>
<tr>
<td style="border-bottom-style: none; border-top-style: none">
<code>_Alignof</code>
</td>
<td style="border-bottom-style: none; border-top-style: none">
Alignment requirement<span class="t-mark-rev t-since-c11">(C11)</span>
</td>
</tr>
<tr>
<th>
3
</th>
<td>
<code>*</code> <code>/</code> <code>%</code>
</td>
<td>
Multiplication, division, and remainder
</td>
<td style="vertical-align: top" rowspan="11">
Left-to-right
</td>
</tr>
<tr>
<th>
4
</th>
<td>
<code>+</code> <code>-</code>
</td>
<td>
Addition and subtraction
</td>
</tr>
<tr>
<th>
5
</th>
<td>
<code>&lt;&lt;</code> <code>&gt;&gt;</code>
</td>
<td>
Bitwise left shift and right shift
</td>
</tr>
<tr>
<th rowspan="2">
6
</th>
<td style="border-bottom-style: none">
<code>&lt;</code> <code>&lt;=</code>
</td>
<td style="border-bottom-style: none">
For relational operators &lt; and ≤ respectively
</td>
</tr>
<tr>
<td style="border-top-style: none">
<code>&gt;</code> <code>&gt;=</code>
</td>
<td style="border-top-style: none">
For relational operators &gt; and ≥ respectively
</td>
</tr>
<tr>
<th>
7
</th>
<td>
<code>==</code> <code>!=</code>
</td>
<td>
For relational = and ≠ respectively
</td>
</tr>
<tr>
<th>
8
</th>
<td>
<code>&amp;</code>
</td>
<td>
Bitwise AND
</td>
</tr>
<tr>
<th>
9
</th>
<td>
<code>^</code>
</td>
<td>
Bitwise XOR (exclusive or)
</td>
</tr>
<tr>
<th>
10
</th>
<td>
<code>|</code>
</td>
<td>
Bitwise OR (inclusive or)
</td>
</tr>
<tr>
<th>
11
</th>
<td>
<code>&amp;&amp;</code>
</td>
<td>
Logical AND
</td>
</tr>
<tr>
<th>
12
</th>
<td>
<code>||</code>
</td>
<td>
Logical OR
</td>
</tr>
<tr>
<th>
13
</th>
<td>
<code>?:</code>
</td>
<td>
Ternary conditional<sup id="cite_ref-3" class="reference"><a href="#cite_note-3">[note 3]</a></sup>
</td>
<td style="vertical-align: top" rowspan="6">
Right-to-Left
</td>
</tr>
<tr>
<th rowspan="5">
14<sup id="cite_ref-4" class="reference"><a href="#cite_note-4">[note 4]</a></sup>
</th>
<td style="border-bottom-style: none">
<code>=</code>
</td>
<td style="border-bottom-style: none">
Simple assignment
</td>
</tr>
<tr>
<td style="border-bottom-style: none; border-top-style: none">
<code>+=</code> <code>-=</code>
</td>
<td style="border-bottom-style: none; border-top-style: none">
Assignment by sum and difference
</td>
</tr>
<tr>
<td style="border-bottom-style: none; border-top-style: none">
<code>*=</code> <code>/=</code> <code>%=</code>
</td>
<td style="border-bottom-style: none; border-top-style: none">
Assignment by product, quotient, and remainder
</td>
</tr>
<tr>
<td style="border-bottom-style: none; border-top-style: none">
<code>&lt;&lt;=</code> <code>&gt;&gt;=</code>
</td>
<td style="border-bottom-style: none; border-top-style: none">
Assignment by bitwise left shift and right shift
</td>
</tr>
<tr>
<td style="border-top-style: none">
<code>&amp;=</code> <code>^=</code> <code>|=</code>
</td>
<td style="border-top-style: none">
Assignment by bitwise AND, XOR, and OR
</td>
</tr>
<tr>
<th>
15
</th>
<td>
<code>,</code>
</td>
<td>
Comma
</td>
<td>
Left-to-right
</td>
</tr>
</tbody>
</table>
<ol class="references">
<li id="cite_note-1">
<span class="mw-cite-backlink"><a href="#cite_ref-1">↑</a></span> <span class="reference-text">The operand of prefix <code>++</code> and <code>--</code> can’t be a type cast. This rule grammatically forbids some expressions that would be semantically invalid anyway. Some compilers ignore this rule and detect the invalidity semantically.</span>
</li>
<li id="cite_note-2">
<span class="mw-cite-backlink"><a href="#cite_ref-2">↑</a></span> <span class="reference-text">The operand of <code>sizeof</code> can’t be a type cast: the expression <code>sizeof (int) * p</code> is unambiguously interpreted as <code>(sizeof(int)) * p</code>, but not <code>sizeof((int)*p)</code>.</span>
</li>
<li id="cite_note-3">
<span class="mw-cite-backlink"><a href="#cite_ref-3">↑</a></span> <span class="reference-text">The expression in the middle of the conditional operator (between <code><b>?</b></code> and <code><b>:</b></code>) is parsed as if parenthesized: its precedence relative to <code>?:</code> is ignored.</span>
</li>
<li id="cite_note-4">
<span class="mw-cite-backlink"><a href="#cite_ref-4">↑</a></span> <span class="reference-text">Assignment operators’ left operands must be unary (level-2 non-cast) expressions. This rule grammatically forbids some expressions that would be semantically invalid anyway. Many compilers ignore this rule and detect the invalidity semantically. For example, <span class="t-c"><span class="mw-geshi c source-c">e <span class="sy1">=</span> a <span class="sy1">&lt;</span> d <span class="sy4">?</span> a<span class="sy2">++</span> <span class="sy4">:</span> a <span class="sy1">=</span> d</span></span> is an expression that cannot be parsed because of this rule. However, many compilers ignore this rule and parse it as <span class="t-c"><span class="mw-geshi c source-c">e <span class="sy1">=</span> <span class="br0">(</span> <span class="br0">(</span><span class="br0">(</span>a <span class="sy1">&lt;</span> d<span class="br0">)</span> <span class="sy4">?</span> <span class="br0">(</span>a<span class="sy2">++</span><span class="br0">)</span> <span class="sy4">:</span> a<span class="br0">)</span> <span class="sy1">=</span> d <span class="br0">)</span></span></span>, and then give an error because it is semantically invalid.</span>
</li>
</ol>
</div>
</div>
<div id="references" class="section level1">
<h1>References</h1>
<p><strong>Did you find this page helpful? Consider sharing it 🙌</strong></p>
</div>
